<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beoordelingsformulier</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .radio-group {
            display: flex;
            flex-direction: column;
        }
        .radio-group label {
            margin-bottom: 0.5rem;
        }
        .pdf-content {
            padding: 0.1in; /* Adjust padding as needed for margin */
            width: 100%;
            height: 100%;
        }
        textarea {
            overflow: hidden;
            resize: none;
            width: 100%;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <form id="evaluationForm">
        <div class="pdf-content" id="pdfContent">
            <h2 class="mb-4">Proforma Beoordelingsformulier</h2>
            <div class="mb-3 col-2">
                <label for="studentName" class="form-label">Voornaam student</label>
                <input type="text" class="form-control" id="studentName" name="studentName" required>
            </div>
            <div class="mb-3 col-2">
                <label for="reviewerName" class="form-label">Voornaam beoordelaar</label>
                <input type="text" class="form-control" id="reviewerName" name="reviewerName" required>
            </div>
            <div class="mb-3 col-2">
                <label for="reviewDate" class="form-label">Datum beoordeling</label>
                <input type="date" class="form-control" id="reviewDate" name="reviewDate" required>
            </div>
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th></th>
                        <th>Competentie</th>
                        <th>Beschrijving</th>
                        <th>Beoordeling</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Probleem herkennen en diagnosticeren</td>
                        <td>De student beschrijft de relevantie van het bedrijfskundig vraagstuk vanuit een integraal perspectief. Hierbij bespreekt hij mogelijke oorzaken en dwarsverbanden en stelt de passende bedrijfskundige diagnose om de organisatie te verbeteren/te vernieuwen.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence1-1" name="competence1" value="O">
                                    <label for="competence1-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence1-2" name="competence1" value="V">
                                    <label for="competence1-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence1-3" name="competence1" value="G">
                                    <label for="competence1-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence1-4" name="competence1" value="U">
                                    <label for="competence1-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr><td colspan="4"><textarea class="form-control" name="comment1" id="comment1" placeholder="Toelichting" rows="5"></textarea></td></tr>
                    <tr>
                        <td>2</td>
                        <td>Ontwerpen</td>
                        <td>De student ontwerpt op basis van gedegen onderzoek realistische oplossingsrichtingen voor het vraagstuk en neemt hierin mee de capaciteiten en doelstellingen van de organisatie. Hij beschrijft voor iedere oplossingsrichting de kosten, investeringen, risico's en mate van meervoudige waardecreatie.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence2-1" name="competence2" value="O">
                                    <label for="competence2-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence2-2" name="competence2" value="V">
                                    <label for="competence2-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence2-3" name="competence2" value="G">
                                    <label for="competence2-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence2-4" name="competence2" value="U">
                                    <label for="competence2-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr><td colspan="4"><textarea class="form-control" name="comment2" id="comment2" placeholder="Toelichting" rows="5"></textarea></td></tr>
                    <tr>
                        <td>3</td>
                        <td>Veranderen</td>
                        <td>De student begeleidt een complex bedrijfskundig proces, waarbij uiteenlopende belangen een rol spelen. Hij kan zelfstandig een integraal advies opstellen en uitbrengen. Hij draagt daarbij zorg voor de implementatie en borging van de oplossing.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence3-1" name="competence3" value="O">
                                    <label for="competence3-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence3-2" name="competence3" value="V">
                                    <label for="competence3-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence3-3" name="competence3" value="G">
                                    <label for="competence3-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence3-4" name="competence3" value="U">
                                    <label for="competence3-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment3" id="comment3" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>4</td>
                        <td>Evalueren</td>
                        <td>De student beoordeelt de effectiviteit van verbeteracties en adviseert over de verdere ontwikkeling van de organisatie. De evaluatie wordt gebruikt om het leren van de organisatie te verbeteren en is gericht op de eerder gemaakte keuzes (diagnose en ontwerp).</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence4-1" name="competence4" value="O">
                                    <label for="competence4-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence4-2" name="competence4" value="V">
                                    <label for="competence4-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence4-3" name="competence4" value="G">
                                    <label for="competence4-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence4-4" name="competence4" value="U">
                                    <label for="competence4-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment4" id="comment4" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>5</td>
                        <td>Onderzoekend vermogen</td>
                        <td>De student voert op methodische wijze een bedrijfskundig onderzoek uit. Dit omvat het vinden en toepassen van gevalideerde kennis en methodes die passen bij het vraagstuk. Hij ontwikkelt een zelfstandig waardensysteem, eigen kennisopvatting en besef dat kennis contextgebonden is.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence5-1" name="competence5" value="O">
                                    <label for="competence5-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence5-2" name="competence5" value="V">
                                    <label for="competence5-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence5-3" name="competence5" value="G">
                                    <label for="competence5-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence5-4" name="competence5" value="U">
                                    <label for="competence5-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment5" id="comment5" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>6</td>
                        <td>Sociaal communicatieve vaardigheden</td>
                        <td>De student past communicatievaardigheden effectief toe om bedrijfskundige doelstellingen te realiseren. Hij communiceert zijn boodschap op een passende wijze naar diverse belanghebbenden.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence6-1" name="competence6" value="O">
                                    <label for="competence6-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence6-2" name="competence6" value="V">
                                    <label for="competence6-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence6-3" name="competence6" value="G">
                                    <label for="competence6-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence6-4" name="competence6" value="U">
                                    <label for="competence6-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment6" id="comment6" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>7</td>
                        <td>Schakelen en verbinden</td>
                        <td>De student is regisseur van het onderzoeksproces en kan contacten inzetten in verschillende situaties om doelen te bereiken. Hij is zich bewust van de verschillende rollen en reflecteert hierop. Hij toont zich daarbij bewust van culturele diversiteit en houdt daarmee rekening.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence7-1" name="competence7" value="O">
                                    <label for="competence7-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence7-2" name="competence7" value="V">
                                    <label for="competence7-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence7-3" name="competence7" value="G">
                                    <label for="competence7-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence7-4" name="competence7" value="U">
                                    <label for="competence7-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment7" id="comment7" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>8</td>
                        <td>Professionaliseren</td>
                        <td>De student borgt kennis en zorgt voor een correcte overdracht en verspreiding, waardoor een bijdrage wordt geleverd aan de ontwikkeling van de organisatie en de bedrijfskundige beroepspraktijk. Hij kan daarbij zijn eigen handelen verantwoorden en is in een continu proces bezig te reflecteren op zijn eigen handelen en zich te ontwikkelen.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence8-1" name="competence8" value="O">
                                    <label for="competence8-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence8-2" name="competence8" value="V">
                                    <label for="competence8-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence8-3" name="competence8" value="G">
                                    <label for="competence8-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence8-4" name="competence8" value="U">
                                    <label for="competence8-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment8" id="comment8" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <tr>
                        <td>9</td>
                        <td>Handelen vanuit waarden</td>
                        <td>De student toont bewustzijn van ethische dilemma's en streeft naar maatschappelijk verantwoorde bedrijfskundige oplossingen. Hierbij worden de belangen van zowel externe als interne belanghebbenden zorgvuldig afgewogen.</td>
                        <td>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="competence9-1" name="competence9" value="O">
                                    <label for="competence9-1">O</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence9-2" name="competence9" value="V">
                                    <label for="competence9-2">V</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence9-3" name="competence9" value="G">
                                    <label for="competence9-3">G</label>
                                </div>
                                <div>
                                    <input type="radio" id="competence9-4" name="competence9" value="U">
                                    <label for="competence9-4">U</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tr>
                <tr><td colspan="4"><textarea class="form-control" name="comment9" id="comment9" placeholder="Toelichting" rows="5"></textarea></td></tr>
                <tr>
                    <td colspan="4">
                    </td>
                </tr>
                <tr>
                    <td colspan="4"><textarea class="form-control" name="remarks" id="remarks" placeholder="Algemene opmerkingen" rows="5"></textarea></td>
                </tr>
                <tr>  
                </tbody>
            </table>
        </div>
        <button type="button" class="btn btn-success" onclick="downloadPDF()">Download als PDF</button>
    </form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const textareas = document.querySelectorAll('textarea');
        textareas.forEach(textarea => {
            textarea.addEventListener('input', autoResize);
            autoResize.call(textarea); // Ensure all textareas are resized on page load
        });

        function autoResize() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
        }
    });

    function downloadPDF() {
        // Trigger auto-resize for all textareas
        const textareas = document.querySelectorAll('textarea');
        textareas.forEach(textarea => {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        });
        const studentName = document.getElementById('studentName').value.toLowerCase();
        const element = document.getElementById('pdfContent');
        html2pdf(element, {
            margin: 0.2,
            filename: 'beoordelingsformulier-'+ studentName + '.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, logging: true, useCORS: true },
            jsPDF: { unit: 'in', format: 'A4', orientation: 'landscape' },
            pagebreak: { mode: ['avoid-all'] }
        });
    }
</script>
</body>
</html>
